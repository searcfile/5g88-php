<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Amount Receipt</title>
  <style>
    body {
      width: 1000px;
      height: 800px;
      margin: 0 auto;
      background-color: #f2f2f2;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
    }

    .header {
      width: 100%;
      background-color: #e8e8e8;
      color: black;
      text-align: center;
      padding: 20px 0;
      font-size: 24px;
      font-weight: 500;
    }

    .content {
      margin-top: 50px;
      text-align: center;
    }

    .amount-title {
      font-size: 32px;
      font-weight: bold;
      margin: 20px 0 10px;
    }

    .amount-value {
      font-size: 48px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .bank-charge {
      font-size: 18px;
    }

    .input-section {
      margin-top: 50px;
      text-align: center;
    }

    .input-section input {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      width: 250px;
    }

    .buttons {
      margin-top: 30px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 10px;
      cursor: pointer;
    }

    .output {
      display: none;
      margin-top: 40px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="header" id="dateOutput">01 May 2025, 00:00:00 am</div>

  <div class="content" id="receiptContent">
    <div class="amount-title">Amount</div>
    <div class="amount-value" id="amountOutput">MYR 1,000.00</div>
    <div class="bank-charge">Bank charges MYR 0.00</div>
  </div>

  <div class="input-section">
    <input type="datetime-local" id="dateInput" />
    <input type="number" step="0.01" id="amountInput" placeholder="Enter amount (e.g. 1000)" />
    <div class="buttons">
      <button onclick="updateReceipt()">Update</button>
      <button onclick="copyToClipboard()">Copy</button>
    </div>
  </div>

  <textarea id="copyArea" style="opacity:0; position:absolute; left:-9999px;"></textarea>

  <script>
    function formatDate(dateStr) {
      const d = new Date(dateStr);
      const day = d.getDate().toString().padStart(2, '0');
      const month = d.toLocaleString('en-US', { month: 'short' });
      const year = d.getFullYear();
      const hour = d.getHours().toString().padStart(2, '0');
      const minute = d.getMinutes().toString().padStart(2, '0');
      const second = d.getSeconds().toString().padStart(2, '0');
      const ampm = d.getHours() >= 12 ? 'pm' : 'am';
      return `${day} ${month} ${year}, ${hour}:${minute}:${second} ${ampm}`;
    }

    function formatMYR(amount) {
      return 'MYR ' + Number(amount).toLocaleString('en-MY', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function updateReceipt() {
      const dateInput = document.getElementById('dateInput').value;
      const amountInput = document.getElementById('amountInput').value;
      if (!dateInput || !amountInput) {
        alert("Please enter both date and amount.");
        return;
      }

      const formattedDate = formatDate(dateInput);
      const formattedAmount = formatMYR(amountInput);

      document.getElementById('dateOutput').textContent = formattedDate;
      document.getElementById('amountOutput').textContent = formattedAmount;
    }

    function copyToClipboard() {
      const dateText = document.getElementById('dateOutput').textContent;
      const amountText = document.getElementById('amountOutput').textContent;
      const textToCopy = `${dateText}\n${amountText}\nBank charges MYR 0.00`;

      const copyArea = document.getElementById('copyArea');
      copyArea.value = textToCopy;
      copyArea.select();
      document.execCommand('copy');
      alert('Copied to clipboard:\n\n' + textToCopy);
    }
  </script>
</body>
</html>
